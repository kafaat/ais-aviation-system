# ========================================
# AIS Aviation System - Environment Variables
# ========================================
# Copy this file to .env and fill in your values

# ========================================
# App Configuration
# ========================================
# Unique identifier for the application
VITE_APP_ID=ais-aviation-system
NODE_ENV=development

# App title shown in browser tab (used in index.html)
VITE_APP_TITLE=AIS Aviation System
# App logo path (used in index.html as favicon)
VITE_APP_LOGO=/logo.png
# App URL for frontend
VITE_APP_URL=http://localhost:3000

# ========================================
# Database Configuration
# ========================================
# MySQL/TiDB database connection URL
# Format: mysql://username:password@host:port/database
DATABASE_URL=mysql://root:password@localhost:3306/ais_aviation

# Database connection pool settings (optional)
# DB_POOL_SIZE=10
# DB_MAX_IDLE=10
# DB_IDLE_TIMEOUT=60000
# DB_QUEUE_LIMIT=0
# DB_CONNECT_TIMEOUT=10000

# ========================================
# Redis Configuration (for BullMQ queues)
# ========================================
# Redis connection URL for job queues
# Optional in development, required in production
# Format: redis://[username]:[password]@host:port
REDIS_URL=redis://localhost:6379

# Alternative Redis connection (used when REDIS_URL is not set)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=

# Redis cache key prefix (default: ais)
# CACHE_PREFIX=ais

# ========================================
# Authentication & Security
# ========================================
# Secret key for JWT token signing (min 32 characters recommended)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# CSRF protection secret (min 32 characters recommended)
CSRF_SECRET=your-csrf-secret-change-this-in-production

# OAuth Configuration
OAUTH_SERVER_URL=http://localhost:3000
OWNER_OPEN_ID=owner-open-id-here
# VITE_OAUTH_PORTAL_URL=http://localhost:3000/oauth

# Mobile auth settings (optional)
# REFRESH_TOKEN_PEPPER=your-refresh-token-pepper
# REFRESH_TOKEN_EXPIRES_DAYS=30
# JWT_EXPIRES_IN=15m

# Production URL (used for security checks)
# PRODUCTION_URL=https://your-production-domain.com

# ========================================
# Built-in Forge API (Manus AI)
# ========================================
BUILT_IN_FORGE_API_URL=https://api.manus.space
BUILT_IN_FORGE_API_KEY=your-forge-api-key-here

# Frontend Forge API (for maps and geolocation)
# VITE_FRONTEND_FORGE_API_URL=https://api.manus.space
# VITE_FRONTEND_FORGE_API_KEY=your-frontend-forge-api-key

# ========================================
# Payment Gateway - Stripe
# ========================================
# Get your keys from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Optional: Stripe Publishable Key (for frontend)
VITE_STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key

# ========================================
# Email Service (Optional)
# ========================================
# Configure if you want to send emails
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-email-password
EMAIL_FROM=AIS Aviation System <noreply@ais.com>

# ========================================
# SMS Service (Optional - Twilio)
# ========================================
# SMS provider: "twilio" or "mock" (default: mock)
# SMS_PROVIDER=twilio
# TWILIO_ACCOUNT_SID=your-twilio-account-sid
# TWILIO_AUTH_TOKEN=your-twilio-auth-token
# TWILIO_PHONE_NUMBER=+1234567890

# ========================================
# AI Features (Optional)
# ========================================
# OpenAI API key for AI chat support
OPENAI_API_KEY=sk-your-openai-api-key

# ========================================
# AWS S3 Storage (Optional)
# ========================================
# For file uploads (e-tickets, boarding passes, etc.)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET=ais-aviation-files

# ========================================
# Application Settings
# ========================================
# Server port (default: 3000)
PORT=3000

# Frontend URL (for CORS, webhooks, and Stripe redirect URLs)
FRONTEND_URL=http://localhost:3000

# API base URL for OpenAPI documentation (default: http://localhost:3000/api)
# API_BASE_URL=http://localhost:3000/api

# Session cookie settings
COOKIE_DOMAIN=localhost
COOKIE_SECURE=false
COOKIE_SAME_SITE=lax

# ========================================
# Rate Limiting
# ========================================
# Maximum requests per window (default: 100)
RATE_LIMIT_MAX=100
# Window size in milliseconds (default: 15 minutes = 900000ms)
RATE_LIMIT_WINDOW_MS=900000

# ========================================
# Feature Flags (Optional)
# ========================================
# Enable/disable features
ENABLE_AI_CHAT=true
ENABLE_LOYALTY_PROGRAM=true
ENABLE_MULTI_CURRENCY=true
ENABLE_PWA=true

# ========================================
# Analytics (Optional - Umami)
# ========================================
# VITE_ANALYTICS_ENDPOINT=https://your-umami-instance.com
# VITE_ANALYTICS_WEBSITE_ID=your-website-id

# ========================================
# Logging & Monitoring
# ========================================
# Log level: debug, info, warn, error
LOG_LEVEL=info
# Log format: json or pretty (default: json in production, pretty in development)
# LOG_FORMAT=pretty
# Log to file path (optional)
# LOG_FILE_PATH=./logs/app.log
# Service name in logs (default: ais-aviation)
# LOG_SERVICE_NAME=ais-aviation
# Log version
# LOG_VERSION=1.0.0

# Slow query monitoring (optional)
# SLOW_QUERY_THRESHOLD_MS=1000
# SLOW_QUERY_WARNING_MS=500
# MAX_SLOW_QUERIES=100
# SLOW_QUERY_LOGGING=false

# ========================================
# Sentry Error Tracking (Optional)
# ========================================
# Get your DSN from: https://sentry.io/settings/projects/
# Server-side DSN (Node.js) - leave commented out to disable
# SENTRY_DSN=https://your-actual-key@sentry.io/your-project-id

# Client-side DSN (React) - must be VITE_ prefixed for Vite
# VITE_SENTRY_DSN=https://your-actual-key@sentry.io/your-project-id

# Optional: Custom release version
SENTRY_RELEASE=ais-aviation-system@1.0.0
VITE_SENTRY_RELEASE=ais-aviation-system@1.0.0

# Optional: Sample rates (0.0 to 1.0)
# Performance monitoring sample rate (default: 0.1 = 10%)
SENTRY_TRACES_SAMPLE_RATE=0.1
VITE_SENTRY_TRACES_SAMPLE_RATE=0.1

# Profiling sample rate (default: 0.1 = 10%)
SENTRY_PROFILES_SAMPLE_RATE=0.1

# Session replay sample rate (default: 0.1 = 10%)
VITE_SENTRY_REPLAYS_SESSION_SAMPLE_RATE=0.1

# Session replay on error sample rate (default: 1.0 = 100%)
VITE_SENTRY_REPLAYS_ERROR_SAMPLE_RATE=1.0

# ========================================
# Build Tools
# ========================================
# Set to "true" to generate a bundle analysis report (dist/public/stats.html)
# ANALYZE=true

# ========================================
# Docker Production Environment
# ========================================
# These variables are used by docker-compose.production.yml
# Only needed when deploying with Docker

# Database credentials for Docker MySQL
DB_ROOT_PASSWORD=your-mysql-root-password
DB_NAME=ais_aviation
DB_USER=ais_user
DB_PASSWORD=your-secure-db-password
